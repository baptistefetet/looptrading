# Story 5.4: Configuration des alertes

## Status
Done

## Story
**As a** user,
**I want** to configure my alert preferences,
**so that** I receive only relevant notifications.

## Acceptance Criteria
1. Page Settings > Alerts dans le frontend
2. Toggle par stratégie (enable/disable)
3. Seuil de score minimum pour alerte
4. Sauvegarde via API `PUT /api/settings/alerts`

## Tasks / Subtasks
- [x] Créer page Settings/Alerts (AC: 1)
  - [x] Route `/settings/alerts`
  - [x] Layout cohérent avec reste settings
  - [x] Sections organisées logiquement
- [x] Implémenter toggles stratégies (AC: 2)
  - [x] Toggle Pullback
  - [x] Toggle Breakout
  - [x] Toggle MACD Cross
  - [x] État visuel on/off
- [x] Implémenter seuil score (AC: 3)
  - [x] Slider ou input numérique 0-100
  - [x] Default : 75
  - [x] Preview : "Alertes si score > X"
- [x] Implémenter horaires silencieux (AC: 4)
  - [x] Toggle "Horaires silencieux"
  - [x] Time pickers : début et fin
  - [x] Jours de la semaine
  - [x] Stockage timezone utilisateur
- [x] Créer endpoint API (AC: 5)
  - [x] Route `PUT /api/settings/alerts`
  - [x] Body : strategies, minScore, quietHours
  - [x] Validation Zod
  - [x] Sauvegarder dans UserSettings

## Dev Notes
_À compléter après création du document d'architecture_

### Architecture References
- FR4 : Alertes configurables
- FR5 : 3 stratégies sélectionnables

### Settings Structure
```typescript
interface AlertSettings {
  strategies: {
    pullback: boolean;
    breakout: boolean;
    macdCross: boolean;
  };
  minScore: number; // 0-100, default 75
  quietHours: {
    enabled: boolean;
    start: string; // "22:00"
    end: string;   // "08:00"
    days: number[]; // [0,1,2,3,4,5,6] = all days
    timezone: string;
  };
}
```

### UI Components
- Toggle switches pour stratégies
- Slider pour score minimum
- Time pickers pour horaires silencieux

### Dependencies
- Story 1.4 (Frontend shell) doit être complétée
- Story 5.1-5.2 (Alert system) doivent être complétées

### Testing
_Standards de test à définir dans le document d'architecture_

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-25 | 0.1 | Création initiale de la story | Sarah (PO) |
