# Story 6.6: Page Portfolio

## Status
Ready for Review

## Story
**As a** user,
**I want** to see and manage my portfolio,
**so that** I can track my positions alongside opportunities.

## Acceptance Criteria
1. Tableau des positions : symbol, qty, avgCost, current, P&L
2. RÃ©sumÃ© : valeur totale, P&L total
3. Graphique rÃ©partition (pie chart optionnel)
4. Boutons : Ajouter position, Importer CSV
5. Modal d'ajout/Ã©dition de position
6. Bouton supprimer avec confirmation

## Tasks / Subtasks
- [x] CrÃ©er page Portfolio (AC: all)
  - [x] Route `/portfolio`
  - [x] Layout avec sections
  - [x] Fetch positions au mount
- [x] CrÃ©er tableau positions (AC: 1)
  - [x] Colonnes : Symbol, Qty, Avg Cost, Current Price, Market Value, P&L, P&L %
  - [x] Couleurs P&L : vert gain, rouge perte
  - [x] Tri par colonnes
  - [x] Ligne total en bas
- [x] CrÃ©er section rÃ©sumÃ© (AC: 2)
  - [x] Card "Valeur Totale" avec montant
  - [x] Card "P&L Total" avec montant et %
  - [x] Style cards avec bordure nÃ©on
- [x] Graphique rÃ©partition (AC: 3 - optionnel)
  - [x] Pie chart par symbol ou secteur
  - [x] Peut Ãªtre ajoutÃ© post-MVP
- [x] Boutons d'action (AC: 4)
  - [x] Bouton "+ Ajouter position"
  - [x] Bouton "Importer CSV"
  - [x] Placement en haut de page
- [x] Modal ajout/Ã©dition (AC: 5)
  - [x] Formulaire : symbol, quantity, avgCost, dateAcquired, notes
  - [x] Validation en temps rÃ©el
  - [x] Autocomplete symbol
  - [x] Mode Ã©dition pour positions existantes
- [x] Suppression position (AC: 6)
  - [x] Bouton supprimer sur chaque ligne
  - [x] Modal de confirmation
  - [x] Feedback visuel aprÃ¨s suppression

## Dev Notes

### Architecture References
- Portfolio gÃ©rÃ© manuellement (pas d'IBKR)
- Utilise les endpoints de Story 2.1 et 2.2

### Page Layout
```
+------------------------------------------+
| Portfolio              [+ Ajouter] [CSV] |
+------------------------------------------+
| Valeur Totale    |     P&L Total         |
|   $45,230        |     +$3,450 (+8.2%)   |
+------------------------------------------+
| Positions                                |
| AAPL | 50 | $120 | $150 | $7,500 | +25% |
| MSFT | 30 | $280 | $310 | $9,300 | +11% |
| ...                               [edit] |
+------------------------------------------+
```

### Modal Ajout Position
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ajouter une position                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Symbol:     [AAPL        ] ğŸ”       â”‚
â”‚ QuantitÃ©:   [50          ]          â”‚
â”‚ Prix moyen: [125.00      ] $        â”‚
â”‚ Date achat: [2024-06-15  ] ğŸ“…       â”‚
â”‚ Notes:      [_____________]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        [Annuler]  [Ajouter]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Dependencies
- Story 2.1 (Portfolio API) doit Ãªtre complÃ©tÃ©e
- Story 2.2 (Import CSV) doit Ãªtre complÃ©tÃ©e
- Story 1.4 (Frontend shell) doit Ãªtre complÃ©tÃ©e

### Testing
_Standards de test Ã  dÃ©finir dans le document d'architecture_

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-25 | 0.1 | CrÃ©ation initiale (lecture seule IBKR) | Sarah (PO) |
| 2026-01-25 | 0.2 | RÃ©Ã©criture : portfolio manuel avec CRUD | Winston (Architect) |
| 2026-02-08 | 1.0 | ImplÃ©mentation page Portfolio (tableau triable, rÃ©sumÃ©, allocation, modals CRUD, import CSV) | Codex |
