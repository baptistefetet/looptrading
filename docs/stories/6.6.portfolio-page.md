# Story 6.6: Page Portfolio

## Status
Draft

## Story
**As a** user,
**I want** to see and manage my portfolio,
**so that** I can track my positions alongside opportunities.

## Acceptance Criteria
1. Tableau des positions : symbol, qty, avgCost, current, P&L
2. RÃ©sumÃ© : valeur totale, P&L total
3. Graphique rÃ©partition (pie chart optionnel)
4. Boutons : Ajouter position, Importer CSV
5. Modal d'ajout/Ã©dition de position
6. Bouton supprimer avec confirmation

## Tasks / Subtasks
- [ ] CrÃ©er page Portfolio (AC: all)
  - [ ] Route `/portfolio`
  - [ ] Layout avec sections
  - [ ] Fetch positions au mount
- [ ] CrÃ©er tableau positions (AC: 1)
  - [ ] Colonnes : Symbol, Qty, Avg Cost, Current Price, Market Value, P&L, P&L %
  - [ ] Couleurs P&L : vert gain, rouge perte
  - [ ] Tri par colonnes
  - [ ] Ligne total en bas
- [ ] CrÃ©er section rÃ©sumÃ© (AC: 2)
  - [ ] Card "Valeur Totale" avec montant
  - [ ] Card "P&L Total" avec montant et %
  - [ ] Style cards avec bordure nÃ©on
- [ ] Graphique rÃ©partition (AC: 3 - optionnel)
  - [ ] Pie chart par symbol ou secteur
  - [ ] Peut Ãªtre ajoutÃ© post-MVP
- [ ] Boutons d'action (AC: 4)
  - [ ] Bouton "+ Ajouter position"
  - [ ] Bouton "Importer CSV"
  - [ ] Placement en haut de page
- [ ] Modal ajout/Ã©dition (AC: 5)
  - [ ] Formulaire : symbol, quantity, avgCost, dateAcquired, notes
  - [ ] Validation en temps rÃ©el
  - [ ] Autocomplete symbol
  - [ ] Mode Ã©dition pour positions existantes
- [ ] Suppression position (AC: 6)
  - [ ] Bouton supprimer sur chaque ligne
  - [ ] Modal de confirmation
  - [ ] Feedback visuel aprÃ¨s suppression

## Dev Notes

### Architecture References
- Portfolio gÃ©rÃ© manuellement (pas d'IBKR)
- Utilise les endpoints de Story 2.1 et 2.2

### Page Layout
```
+------------------------------------------+
| Portfolio              [+ Ajouter] [CSV] |
+------------------------------------------+
| Valeur Totale    |     P&L Total         |
|   $45,230        |     +$3,450 (+8.2%)   |
+------------------------------------------+
| Positions                                |
| AAPL | 50 | $120 | $150 | $7,500 | +25% |
| MSFT | 30 | $280 | $310 | $9,300 | +11% |
| ...                               [edit] |
+------------------------------------------+
```

### Modal Ajout Position
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ajouter une position                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Symbol:     [AAPL        ] ğŸ”       â”‚
â”‚ QuantitÃ©:   [50          ]          â”‚
â”‚ Prix moyen: [125.00      ] $        â”‚
â”‚ Date achat: [2024-06-15  ] ğŸ“…       â”‚
â”‚ Notes:      [_____________]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        [Annuler]  [Ajouter]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Dependencies
- Story 2.1 (Portfolio API) doit Ãªtre complÃ©tÃ©e
- Story 2.2 (Import CSV) doit Ãªtre complÃ©tÃ©e
- Story 1.4 (Frontend shell) doit Ãªtre complÃ©tÃ©e

### Testing
_Standards de test Ã  dÃ©finir dans le document d'architecture_

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-25 | 0.1 | CrÃ©ation initiale (lecture seule IBKR) | Sarah (PO) |
| 2026-01-25 | 0.2 | RÃ©Ã©criture : portfolio manuel avec CRUD | Winston (Architect) |
