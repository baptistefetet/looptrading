# Story 6.2: Graphiques interactifs

## Status
Draft

## Story
**As a** user,
**I want** interactive candlestick charts with indicators,
**so that** I can analyze stock price action.

## Acceptance Criteria
1. TradingView Lightweight Charts intégré
2. Graphique chandeliers japonais
3. Overlay indicateurs : SMA, EMA, Bollinger Bands
4. Panneau séparé : RSI, MACD, Volume
5. Zoom, pan, crosshair fonctionnels
6. Timeframes : 1D, 1W, 1M, 3M, 1Y
7. Style dark avec couleurs néon

## Tasks / Subtasks
- [ ] Intégrer TradingView Lightweight Charts (AC: 1)
  - [ ] Installer `lightweight-charts`
  - [ ] Créer composant `StockChart`
  - [ ] Configurer options de base
- [ ] Implémenter graphique chandeliers (AC: 2)
  - [ ] Créer candlestick series
  - [ ] Charger données OHLCV
  - [ ] Couleurs : vert hausse (#00ff41), rouge baisse
- [ ] Ajouter overlay indicateurs (AC: 3)
  - [ ] SMA 20, 50, 200 (lignes colorées)
  - [ ] EMA 9, 21 (lignes pointillées)
  - [ ] Bollinger Bands (bandes avec fill)
  - [ ] Toggle pour afficher/masquer chaque indicateur
- [ ] Créer panneaux indicateurs séparés (AC: 4)
  - [ ] Panneau RSI en bas
  - [ ] Panneau MACD avec histogramme
  - [ ] Panneau Volume avec couleurs
  - [ ] Synchronisation crosshair entre panneaux
- [ ] Implémenter interactions (AC: 5)
  - [ ] Zoom molette souris
  - [ ] Pan drag
  - [ ] Crosshair avec tooltip prix/date
  - [ ] Reset zoom button
- [ ] Implémenter sélecteur timeframe (AC: 6)
  - [ ] Boutons : 1D, 1W, 1M, 3M, 1Y
  - [ ] Recharger données selon période
  - [ ] État actif visuel
- [ ] Appliquer style dark/néon (AC: 7)
  - [ ] Background noir #0d1117
  - [ ] Grid subtle
  - [ ] Textes en cyan/gris
  - [ ] Crosshair néon

## Dev Notes
_À compléter après création du document d'architecture_

### Architecture References
- FR2 : Graphiques chandeliers interactifs avec indicateurs
- Tech : TradingView Lightweight Charts (PRD section 4.3)

### Lightweight Charts Configuration
```typescript
const chart = createChart(container, {
  width: 800,
  height: 400,
  layout: {
    background: { color: '#0d1117' },
    textColor: '#c9d1d9',
  },
  grid: {
    vertLines: { color: '#21262d' },
    horzLines: { color: '#21262d' },
  },
  crosshair: {
    mode: CrosshairMode.Normal,
    vertLine: { color: '#00d4ff' },
    horzLine: { color: '#00d4ff' },
  },
});
```

### Indicator Colors
- SMA20: cyan (#00d4ff)
- SMA50: yellow (#f0e68c)
- SMA200: magenta (#ff00ff)
- EMA: dashed variants
- Bollinger: semi-transparent fill

### Dependencies
- Story 3.1 (MarketDataService) pour données OHLCV
- Story 3.2-3.3 (Indicateurs) pour overlay

### Testing
_Standards de test à définir dans le document d'architecture_

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-25 | 0.1 | Création initiale de la story | Sarah (PO) |
