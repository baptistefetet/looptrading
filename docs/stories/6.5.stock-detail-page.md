# Story 6.5: Page Détail Action

## Status
Ready for Review

## Story
**As a** user,
**I want** a detailed view for each stock,
**so that** I can make informed decisions.

## Acceptance Criteria
1. Header : symbol, nom, prix, variation, score
2. Graphique interactif (composant Story 6.2)
3. Tableau indicateurs techniques avec valeurs
4. Section News Yahoo Finance récentes
5. Historique des alertes pour cette action
6. Bouton "Ajouter à watchlist"

## Tasks / Subtasks
- [x] Créer page Stock Detail (AC: all)
  - [x] Route `/stocks/:symbol`
  - [x] Layout sections organisées
  - [x] Fetch données complètes au mount
- [x] Implémenter header (AC: 1)
  - [x] Symbol en grand
  - [x] Nom complet entreprise
  - [x] Prix actuel avec couleur
  - [x] Variation jour (% et valeur)
  - [x] Score avec jauge visuelle
- [x] Intégrer graphique (AC: 2)
  - [x] Réutiliser composant StockChart (Story 6.2)
  - [x] Pleine largeur
  - [x] Tous les indicateurs disponibles
- [x] Créer tableau indicateurs (AC: 3)
  - [x] Section "Indicateurs Techniques"
  - [x] Tableau : indicateur, valeur, signal (bullish/bearish/neutral)
  - [x] Indicateurs : SMA20/50/200, EMA9/21, RSI, MACD, Bollinger, OBV
  - [x] Couleurs selon signal
- [x] Implémenter section News (AC: 4)
  - [x] Fetch news pour ce symbol
  - [x] Liste 10 dernières news
  - [x] Afficher : headline, source, date
  - [x] Clic → expand summary
  - [x] Lien article original
- [x] Implémenter historique alertes (AC: 5)
  - [x] Section "Historique Alertes"
  - [x] Liste alertes passées pour ce symbol
  - [x] Afficher : date, stratégie, score à l'époque
  - [x] Limiter à 30 jours
- [x] Bouton watchlist (AC: 6)
  - [x] "Ajouter à watchlist" si pas dedans
  - [x] "Retirer de watchlist" si dedans
  - [x] Feedback visuel au clic

## Dev Notes

### Architecture References
- Architecture v3.0 section 10 : Frontend Architecture
- News via Yahoo Finance (Story 2.3)

### Page Layout
```
+------------------------------------------+
| AAPL - Apple Inc.           Score: 85    |
| $150.25 (+2.5%)            [+ Watchlist] |
+------------------------------------------+
|                                          |
|           [Interactive Chart]            |
|                                          |
+------------------------------------------+
| Indicateurs        |  News Yahoo         |
| SMA20: 148.50 ↑    |  • Headline 1       |
| RSI: 55 (neutral)  |  • Headline 2       |
| MACD: bullish      |  • Headline 3       |
+--------------------+---------------------+
| Historique Alertes                       |
| 2026-01-20 - Pullback - Score 78         |
+------------------------------------------+
```

### Dependencies
- Story 6.2 (Charts) doit être complétée
- Story 2.3 (News) doit être complétée
- Story 3.2-3.3 (Indicateurs) doivent être complétées
- Story 5.1 (Alerts) pour historique

### Testing
- Tests composants avec Vitest + React Testing Library

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-25 | 0.1 | Création initiale de la story | Sarah (PO) |
| 2026-01-25 | 0.2 | Suppression IBKR, mise à jour arch v3.0 | Winston (Architect) |
| 2026-02-08 | 1.0 | Implémentation complète page détail (header, score, indicateurs, news, alertes, watchlist) | Codex |
