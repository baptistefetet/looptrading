# Story 6.3: Page Screener

## Status
Ready for Review

## Story
**As a** user,
**I want** a filterable table of stocks,
**so that** I can find opportunities matching my criteria.

## Acceptance Criteria
1. Tableau TanStack Table avec toutes les colonnes
2. Filtres en header : score, RSI, SMA, volume, marché
3. Tri par clic sur colonnes
4. Pagination (50 par page)
5. Clic sur ligne → page détail
6. Export CSV des résultats filtrés
7. Performance fluide avec 500 lignes

## Tasks / Subtasks
- [x] Intégrer TanStack Table (AC: 1)
  - [x] Installer `@tanstack/react-table`
  - [x] Créer composant `ScreenerTable`
  - [x] Définir colonnes : symbol, name, price, change, score, RSI, SMA50, SMA200, volume, market
- [x] Implémenter filtres header (AC: 2)
  - [x] Filtre score : range slider ou min/max inputs
  - [x] Filtre RSI : range
  - [x] Filtre SMA50/200 : checkbox "au-dessus"
  - [x] Filtre volume : min ratio
  - [x] Filtre marché : dropdown US/EU/All
  - [x] Appliquer filtres via API
- [x] Implémenter tri colonnes (AC: 3)
  - [x] Clic header → tri asc
  - [x] Double clic → tri desc
  - [x] Icône indicateur de tri
  - [x] Tri côté serveur (query param)
- [x] Implémenter pagination (AC: 4)
  - [x] 50 items par page
  - [x] Contrôles : précédent, suivant, numéros
  - [x] Afficher total résultats
  - [x] Option changer taille page
- [x] Navigation vers détail (AC: 5)
  - [x] Clic ligne → `/stocks/:symbol`
  - [x] Hover effect sur lignes
- [x] Implémenter export CSV (AC: 6)
  - [x] Bouton "Export CSV"
  - [x] Exporter résultats filtrés actuels
  - [x] Nom fichier avec date
- [x] Optimiser performance (AC: 7)
  - [x] Virtualisation si nécessaire
  - [x] Debounce sur filtres
  - [x] Loading state

## Dev Notes
_À compléter après création du document d'architecture_

### Architecture References
- FR1 : Filtrer actions selon critères techniques
- Tech : TanStack Table (PRD section 4.3)
- NFR6 : 500 actions simultanément

### Table Columns
| Column | Width | Sortable | Filterable |
|--------|-------|----------|------------|
| Symbol | 100px | Yes | No |
| Name | 200px | Yes | No |
| Price | 100px | Yes | No |
| Change % | 80px | Yes | No |
| Score | 80px | Yes | Yes (range) |
| RSI | 60px | Yes | Yes (range) |
| vs SMA50 | 80px | Yes | Yes (bool) |
| vs SMA200 | 80px | Yes | Yes (bool) |
| Volume | 80px | Yes | Yes (min) |
| Market | 60px | Yes | Yes (select) |

### Dependencies
- Story 4.2 (Screener API) doit être complétée
- Story 1.4 (Frontend shell) doit être complétée

### Testing
_Standards de test à définir dans le document d'architecture_

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-25 | 0.1 | Création initiale de la story | Sarah (PO) |
| 2026-02-08 | 1.0 | Implémentation page Screener avec filtres, tri, pagination et export CSV | Codex |
