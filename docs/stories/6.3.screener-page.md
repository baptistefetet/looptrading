# Story 6.3: Page Screener

## Status
Draft

## Story
**As a** user,
**I want** a filterable table of stocks,
**so that** I can find opportunities matching my criteria.

## Acceptance Criteria
1. Tableau TanStack Table avec toutes les colonnes
2. Filtres en header : score, RSI, SMA, volume, marché
3. Tri par clic sur colonnes
4. Pagination (50 par page)
5. Clic sur ligne → page détail
6. Export CSV des résultats filtrés
7. Performance fluide avec 500 lignes

## Tasks / Subtasks
- [ ] Intégrer TanStack Table (AC: 1)
  - [ ] Installer `@tanstack/react-table`
  - [ ] Créer composant `ScreenerTable`
  - [ ] Définir colonnes : symbol, name, price, change, score, RSI, SMA50, SMA200, volume, market
- [ ] Implémenter filtres header (AC: 2)
  - [ ] Filtre score : range slider ou min/max inputs
  - [ ] Filtre RSI : range
  - [ ] Filtre SMA50/200 : checkbox "au-dessus"
  - [ ] Filtre volume : min ratio
  - [ ] Filtre marché : dropdown US/EU/All
  - [ ] Appliquer filtres via API
- [ ] Implémenter tri colonnes (AC: 3)
  - [ ] Clic header → tri asc
  - [ ] Double clic → tri desc
  - [ ] Icône indicateur de tri
  - [ ] Tri côté serveur (query param)
- [ ] Implémenter pagination (AC: 4)
  - [ ] 50 items par page
  - [ ] Contrôles : précédent, suivant, numéros
  - [ ] Afficher total résultats
  - [ ] Option changer taille page
- [ ] Navigation vers détail (AC: 5)
  - [ ] Clic ligne → `/stocks/:symbol`
  - [ ] Hover effect sur lignes
- [ ] Implémenter export CSV (AC: 6)
  - [ ] Bouton "Export CSV"
  - [ ] Exporter résultats filtrés actuels
  - [ ] Nom fichier avec date
- [ ] Optimiser performance (AC: 7)
  - [ ] Virtualisation si nécessaire
  - [ ] Debounce sur filtres
  - [ ] Loading state

## Dev Notes
_À compléter après création du document d'architecture_

### Architecture References
- FR1 : Filtrer actions selon critères techniques
- Tech : TanStack Table (PRD section 4.3)
- NFR6 : 500 actions simultanément

### Table Columns
| Column | Width | Sortable | Filterable |
|--------|-------|----------|------------|
| Symbol | 100px | Yes | No |
| Name | 200px | Yes | No |
| Price | 100px | Yes | No |
| Change % | 80px | Yes | No |
| Score | 80px | Yes | Yes (range) |
| RSI | 60px | Yes | Yes (range) |
| vs SMA50 | 80px | Yes | Yes (bool) |
| vs SMA200 | 80px | Yes | Yes (bool) |
| Volume | 80px | Yes | Yes (min) |
| Market | 60px | Yes | Yes (select) |

### Dependencies
- Story 4.2 (Screener API) doit être complétée
- Story 1.4 (Frontend shell) doit être complétée

### Testing
_Standards de test à définir dans le document d'architecture_

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-25 | 0.1 | Création initiale de la story | Sarah (PO) |
